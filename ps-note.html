<!DOCTYPE html>
<html>
<head>
    <title>Notecard App</title>
    <style>
        .notecard {
            position: absolute;
            width: 200px;
            height: 150px;
            background-color: #ffffff;
            border: 1px solid #ccc;
            cursor: move;
        }
    </style>
</head>
<body>
    <button id="addNotecard">Add Notecard</button>
    <button id="savePositions">Save Positions</button>
    <div id="notecardContainer"></div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const notecardContainer = document.getElementById("notecardContainer");
            const addNotecardButton = document.getElementById("addNotecard");
            const savePositionsButton = document.getElementById("savePositions");
            let notecardCount = 0;

            addNotecardButton.addEventListener("click", function() {
                const notecard = document.createElement("div");
                notecard.className = "notecard";
                notecard.id = `notecard-${notecardCount}`;
                notecard.innerHTML = `Notecard ${notecardCount}`;
                notecardCount++;
                notecardContainer.appendChild(notecard);

                // Add drag-and-drop listeners
                let offsetX, offsetY;
                notecard.addEventListener("mousedown", function(event) {
                    offsetX = event.clientX - notecard.getBoundingClientRect().left;
                    offsetY = event.clientY - notecard.getBoundingClientRect().top;
                    document.addEventListener("mousemove", onMouseMove);
                    document.addEventListener("mouseup", onMouseUp);
                });

                function onMouseMove(event) {
                    notecard.style.left = event.clientX - offsetX + "px";
                    notecard.style.top = event.clientY - offsetY + "px";
                }

                function onMouseUp() {
                    document.removeEventListener("mousemove", onMouseMove);
                    document.removeEventListener("mouseup", onMouseUp);
                }
            });

            // Save positions to localStorage
            savePositionsButton.addEventListener("click", function() {
                const positions = {};
                const notecards = notecardContainer.querySelectorAll(".notecard");
                notecards.forEach(function(notecard) {
                    positions[notecard.id] = {
                        top: notecard.offsetTop,
                        left: notecard.offsetLeft
                    };
                });
                localStorage.setItem("notecardPositions", JSON.stringify(positions));
                alert("Positions saved!");
            });

            // Load positions from localStorage
            const savedPositions = JSON.parse(localStorage.getItem("notecardPositions"));
            if (savedPositions) {
                Object.keys(savedPositions).forEach(function(notecardId) {
                    const notecard = document.getElementById(notecardId);
                    if (notecard) {
                        notecard.style.top = savedPositions[notecardId].top + "px";
                        notecard.style.left = savedPositions[notecardId].left + "px";
                    }
                });
            }
        });
    </script>
</body>
</html>
